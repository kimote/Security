{"ast":null,"code":"\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var __importDefault=void 0&&(void 0).__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});var url_1=require(\"url\");var mitt_1=__importDefault(require(\"../mitt\"));var utils_1=require(\"../utils\");var is_dynamic_1=require(\"./utils/is-dynamic\");var route_matcher_1=require(\"./utils/route-matcher\");var route_regex_1=require(\"./utils/route-regex\");var basePath=process.env.__NEXT_ROUTER_BASEPATH||'';function addBasePath(path){return path.indexOf(basePath)!==0?basePath+path:path;}exports.addBasePath=addBasePath;function delBasePath(path){return path.indexOf(basePath)===0?path.substr(basePath.length)||'/':path;}exports.delBasePath=delBasePath;function toRoute(path){return path.replace(/\\/$/,'')||'/';}var prepareRoute=function prepareRoute(path){return toRoute(!path||path==='/'?'/index':path);};function fetchNextData(pathname,query,isServerRender,cb){var attempts=isServerRender?3:1;function getResponse(){return fetch(utils_1.formatWithValidation({pathname:addBasePath(\"/_next/data/\"+__NEXT_DATA__.buildId+delBasePath(pathname)+\".json\"),query:query}),{credentials:'same-origin'}).then(function(res){if(!res.ok){if(--attempts>0&&res.status>=500){return getResponse();}throw new Error(\"Failed to load static props\");}return res.json();});}return getResponse().then(function(data){return cb?cb(data):data;}).catch(function(err){if(!isServerRender){;err.code='PAGE_LOAD_ERROR';}throw err;});}var Router=function(){function Router(pathname,query,as,_ref){var _this=this;var initialProps=_ref.initialProps,pageLoader=_ref.pageLoader,App=_ref.App,wrapApp=_ref.wrapApp,Component=_ref.Component,err=_ref.err,subscription=_ref.subscription,isFallback=_ref.isFallback;(0,_classCallCheck2.default)(this,Router);this.sdc={};this.onPopState=function(e){if(!e.state){var _pathname=_this.pathname,_query=_this.query;_this.changeState('replaceState',utils_1.formatWithValidation({pathname:_pathname,query:_query}),utils_1.getURL());return;}if(e.state&&_this.isSsr&&e.state.as===_this.asPath&&url_1.parse(e.state.url).pathname===_this.pathname){return;}if(_this._bps&&!_this._bps(e.state)){return;}var _e$state=e.state,url=_e$state.url,as=_e$state.as,options=_e$state.options;if(true){if(typeof url==='undefined'||typeof as==='undefined'){console.warn('`popstate` event triggered but `event.state` did not have `url` or `as` https://err.sh/zeit/next.js/popstate-state-empty');}}_this.replace(url,as,options);};this._getStaticData=function(asPath){var pathname=prepareRoute(url_1.parse(asPath).pathname);return false&&_this.sdc[pathname]?Promise.resolve(_this.sdc[pathname]):fetchNextData(pathname,null,_this.isSsr,function(data){return _this.sdc[pathname]=data;});};this._getServerData=function(asPath){var _url_1$parse=url_1.parse(asPath,true),pathname=_url_1$parse.pathname,query=_url_1$parse.query;pathname=prepareRoute(pathname);return fetchNextData(pathname,query,_this.isSsr);};this.route=toRoute(pathname);this.components={};if(pathname!=='/_error'){this.components[this.route]={Component:Component,props:initialProps,err:err,__N_SSG:initialProps&&initialProps.__N_SSG,__N_SSP:initialProps&&initialProps.__N_SSP};}this.components['/_app']={Component:App};this.events=Router.events;this.pageLoader=pageLoader;this.pathname=pathname;this.query=query;this.asPath=is_dynamic_1.isDynamicRoute(pathname)&&__NEXT_DATA__.autoExport?pathname:as;this.basePath=basePath;this.sub=subscription;this.clc=null;this._wrapApp=wrapApp;this.isSsr=true;this.isFallback=isFallback;if(true){if(as.substr(0,2)!=='//'){this.changeState('replaceState',utils_1.formatWithValidation({pathname:pathname,query:query}),as);}window.addEventListener('popstate',this.onPopState);}}(0,_createClass2.default)(Router,[{key:\"update\",value:function update(route,mod){var Component=mod.default||mod;var data=this.components[route];if(!data){throw new Error(\"Cannot update unavailable route: \"+route);}var newData=(0,_extends2.default)((0,_extends2.default)({},data),{Component:Component,__N_SSG:mod.__N_SSG,__N_SSP:mod.__N_SSP});this.components[route]=newData;if(route==='/_app'){this.notify(this.components[this.route]);return;}if(route===this.route){this.notify(newData);}}},{key:\"reload\",value:function reload(){window.location.reload();}},{key:\"back\",value:function back(){window.history.back();}},{key:\"push\",value:function push(url){var as=arguments.length>1&&arguments[1]!==undefined?arguments[1]:url;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.change('pushState',url,as,options);}},{key:\"replace\",value:function replace(url){var as=arguments.length>1&&arguments[1]!==undefined?arguments[1]:url;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.change('replaceState',url,as,options);}},{key:\"change\",value:function change(method,_url,_as,options){var _this2=this;return new Promise(function(resolve,reject){if(!options._h){_this2.isSsr=false;}if(utils_1.ST){performance.mark('routeChange');}var url=typeof _url==='object'?utils_1.formatWithValidation(_url):_url;var as=typeof _as==='object'?utils_1.formatWithValidation(_as):_as;url=addBasePath(url);as=addBasePath(as);if(process.env.__NEXT_EXPORT_TRAILING_SLASH){var rewriteUrlForNextExport=require(\"./rewrite-url-for-export\").rewriteUrlForNextExport;if(__NEXT_DATA__.nextExport){as=rewriteUrlForNextExport(as);}}_this2.abortComponentLoad(as);if(!options._h&&_this2.onlyAHashChange(as)){_this2.asPath=as;Router.events.emit('hashChangeStart',as);_this2.changeState(method,url,as,options);_this2.scrollToHash(as);Router.events.emit('hashChangeComplete',as);return resolve(true);}var _url_1$parse2=url_1.parse(url,true),pathname=_url_1$parse2.pathname,query=_url_1$parse2.query,protocol=_url_1$parse2.protocol;if(!pathname||protocol){if(true){throw new Error(\"Invalid href passed to router: \"+url+\" https://err.sh/zeit/next.js/invalid-href-passed\");}return resolve(false);}if(!_this2.urlIsNew(as)){method='replaceState';}var route=toRoute(pathname);var _options$shallow=options.shallow,shallow=_options$shallow===void 0?false:_options$shallow;if(is_dynamic_1.isDynamicRoute(route)){var _url_1$parse3=url_1.parse(as),asPathname=_url_1$parse3.pathname;var routeRegex=route_regex_1.getRouteRegex(route);var routeMatch=route_matcher_1.getRouteMatcher(routeRegex)(asPathname);if(!routeMatch){var missingParams=Object.keys(routeRegex.groups).filter(function(param){return!query[param];});if(missingParams.length>0){if(true){console.warn(\"Mismatching `as` and `href` failed to manually provide \"+(\"the params: \"+missingParams.join(', ')+\" in the `href`'s `query`\"));}return reject(new Error(\"The provided `as` value (\"+asPathname+\") is incompatible with the `href` value (\"+route+\"). \"+\"Read more: https://err.sh/zeit/next.js/incompatible-href-as\"));}}else{(0,_extends2.default)(query,routeMatch);}}Router.events.emit('routeChangeStart',as);_this2.getRouteInfo(route,pathname,query,as,shallow).then(function(routeInfo){var error=routeInfo.error;if(error&&error.cancelled){return resolve(false);}Router.events.emit('beforeHistoryChange',as);_this2.changeState(method,url,as,options);if(true){var appComp=_this2.components['/_app'].Component;window.next.isPrerendered=appComp.getInitialProps===appComp.origGetInitialProps&&!routeInfo.Component.getInitialProps;}_this2.set(route,pathname,query,as,routeInfo);if(error){Router.events.emit('routeChangeError',error,as);throw error;}Router.events.emit('routeChangeComplete',as);return resolve(true);},reject);});}},{key:\"changeState\",value:function changeState(method,url,as){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(true){if(typeof window.history==='undefined'){console.error(\"Warning: window.history is not available.\");return;}if(typeof window.history[method]==='undefined'){console.error(\"Warning: window.history.\"+method+\" is not available\");return;}}if(method!=='pushState'||utils_1.getURL()!==as){window.history[method]({url:url,as:as,options:options},'',as);}}},{key:\"getRouteInfo\",value:function getRouteInfo(route,pathname,query,as){var _this3=this;var shallow=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var cachedRouteInfo=this.components[route];if(shallow&&cachedRouteInfo&&this.route===route){return Promise.resolve(cachedRouteInfo);}var handleError=function handleError(err,loadErrorFail){return new Promise(function(resolve){if(err.code==='PAGE_LOAD_ERROR'||loadErrorFail){window.location.href=as;err.cancelled=true;return resolve({error:err});}if(err.cancelled){return resolve({error:err});}resolve(_this3.fetchComponent('/_error').then(function(res){var Component=res.page;var routeInfo={Component:Component,err:err};return new Promise(function(resolve){_this3.getInitialProps(Component,{err:err,pathname:pathname,query:query}).then(function(props){routeInfo.props=props;routeInfo.error=err;resolve(routeInfo);},function(gipErr){console.error('Error in error page `getInitialProps`: ',gipErr);routeInfo.error=err;routeInfo.props={};resolve(routeInfo);});});}).catch(function(err){return handleError(err,true);}));});};return new Promise(function(resolve,reject){if(cachedRouteInfo){return resolve(cachedRouteInfo);}_this3.fetchComponent(route).then(function(res){return resolve({Component:res.page,__N_SSG:res.mod.__N_SSG,__N_SSP:res.mod.__N_SSP});},reject);}).then(function(routeInfo){var Component=routeInfo.Component,__N_SSG=routeInfo.__N_SSG,__N_SSP=routeInfo.__N_SSP;if(true){var _require=require('react-is'),isValidElementType=_require.isValidElementType;if(!isValidElementType(Component)){throw new Error(\"The default export is not a React Component in page: \\\"\"+pathname+\"\\\"\");}}return _this3._getData(function(){return __N_SSG?_this3._getStaticData(as):__N_SSP?_this3._getServerData(as):_this3.getInitialProps(Component,{pathname:pathname,query:query,asPath:as});}).then(function(props){routeInfo.props=props;_this3.components[route]=routeInfo;return routeInfo;});}).catch(handleError);}},{key:\"set\",value:function set(route,pathname,query,as,data){this.isFallback=false;this.route=route;this.pathname=pathname;this.query=query;this.asPath=as;this.notify(data);}},{key:\"beforePopState\",value:function beforePopState(cb){this._bps=cb;}},{key:\"onlyAHashChange\",value:function onlyAHashChange(as){if(!this.asPath)return false;var _this$asPath$split=this.asPath.split('#'),_this$asPath$split2=(0,_slicedToArray2.default)(_this$asPath$split,2),oldUrlNoHash=_this$asPath$split2[0],oldHash=_this$asPath$split2[1];var _as$split=as.split('#'),_as$split2=(0,_slicedToArray2.default)(_as$split,2),newUrlNoHash=_as$split2[0],newHash=_as$split2[1];if(newHash&&oldUrlNoHash===newUrlNoHash&&oldHash===newHash){return true;}if(oldUrlNoHash!==newUrlNoHash){return false;}return oldHash!==newHash;}},{key:\"scrollToHash\",value:function scrollToHash(as){var _as$split3=as.split('#'),_as$split4=(0,_slicedToArray2.default)(_as$split3,2),hash=_as$split4[1];if(hash===''){window.scrollTo(0,0);return;}var idEl=document.getElementById(hash);if(idEl){idEl.scrollIntoView();return;}var nameEl=document.getElementsByName(hash)[0];if(nameEl){nameEl.scrollIntoView();}}},{key:\"urlIsNew\",value:function urlIsNew(asPath){return this.asPath!==asPath;}},{key:\"prefetch\",value:function prefetch(url){var _this4=this;var asPath=arguments.length>1&&arguments[1]!==undefined?arguments[1]:url;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new Promise(function(resolve,reject){var _url_1$parse4=url_1.parse(url),pathname=_url_1$parse4.pathname,protocol=_url_1$parse4.protocol;if(!pathname||protocol){if(true){throw new Error(\"Invalid href passed to router: \"+url+\" https://err.sh/zeit/next.js/invalid-href-passed\");}return;}if(true){return;}var route=delBasePath(toRoute(pathname));Promise.all([_this4.pageLoader.prefetchData(url,delBasePath(asPath)),_this4.pageLoader[options.priority?'loadPage':'prefetch'](route)]).then(function(){return resolve();},reject);});}},{key:\"fetchComponent\",value:function fetchComponent(route){var cancelled,cancel,componentResult,error;return _regenerator.default.async(function fetchComponent$(_context){while(1){switch(_context.prev=_context.next){case 0:cancelled=false;cancel=this.clc=function(){cancelled=true;};route=delBasePath(route);_context.next=5;return _regenerator.default.awrap(this.pageLoader.loadPage(route));case 5:componentResult=_context.sent;if(!cancelled){_context.next=10;break;}error=new Error(\"Abort fetching component for route: \\\"\"+route+\"\\\"\");error.cancelled=true;throw error;case 10:if(cancel===this.clc){this.clc=null;}return _context.abrupt(\"return\",componentResult);case 12:case\"end\":return _context.stop();}}},null,this,null,Promise);}},{key:\"_getData\",value:function _getData(fn){var _this5=this;var cancelled=false;var cancel=function cancel(){cancelled=true;};this.clc=cancel;return fn().then(function(data){if(cancel===_this5.clc){_this5.clc=null;}if(cancelled){var err=new Error('Loading initial props cancelled');err.cancelled=true;throw err;}return data;});}},{key:\"getInitialProps\",value:function getInitialProps(Component,ctx){var App=this.components['/_app'].Component;var AppTree=this._wrapApp(App);ctx.AppTree=AppTree;return utils_1.loadGetInitialProps(App,{AppTree:AppTree,Component:Component,router:this,ctx:ctx});}},{key:\"abortComponentLoad\",value:function abortComponentLoad(as){if(this.clc){var e=new Error('Route Cancelled');e.cancelled=true;Router.events.emit('routeChangeError',e,as);this.clc();this.clc=null;}}},{key:\"notify\",value:function notify(data){this.sub(data,this.components['/_app'].Component);}}],[{key:\"_rewriteUrlForNextExport\",value:function _rewriteUrlForNextExport(url){if(process.env.__NEXT_EXPORT_TRAILING_SLASH){var rewriteUrlForNextExport=require(\"./rewrite-url-for-export\").rewriteUrlForNextExport;return rewriteUrlForNextExport(url);}else{return url;}}}]);return Router;}();exports.default=Router;Router.events=mitt_1.default();","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","url_1","require","mitt_1","utils_1","is_dynamic_1","route_matcher_1","route_regex_1","basePath","process","env","__NEXT_ROUTER_BASEPATH","addBasePath","path","indexOf","delBasePath","substr","length","toRoute","replace","prepareRoute","fetchNextData","pathname","query","isServerRender","cb","attempts","getResponse","fetch","formatWithValidation","__NEXT_DATA__","buildId","credentials","then","res","ok","status","Error","json","data","catch","err","code","Router","as","initialProps","pageLoader","App","wrapApp","Component","subscription","isFallback","sdc","onPopState","e","state","changeState","getURL","isSsr","asPath","parse","url","_bps","options","console","warn","_getStaticData","Promise","resolve","_getServerData","route","components","props","__N_SSG","__N_SSP","events","isDynamicRoute","autoExport","sub","clc","_wrapApp","window","addEventListener","default","newData","notify","location","reload","history","back","change","method","_url","_as","reject","_h","ST","performance","mark","__NEXT_EXPORT_TRAILING_SLASH","rewriteUrlForNextExport","nextExport","abortComponentLoad","onlyAHashChange","emit","scrollToHash","protocol","urlIsNew","shallow","asPathname","routeRegex","getRouteRegex","routeMatch","getRouteMatcher","missingParams","keys","groups","filter","param","join","getRouteInfo","routeInfo","error","cancelled","appComp","next","isPrerendered","getInitialProps","origGetInitialProps","set","cachedRouteInfo","handleError","loadErrorFail","href","fetchComponent","page","gipErr","isValidElementType","_getData","split","oldUrlNoHash","oldHash","newUrlNoHash","newHash","hash","scrollTo","idEl","document","getElementById","scrollIntoView","nameEl","getElementsByName","all","prefetchData","priority","cancel","loadPage","componentResult","fn","ctx","AppTree","loadGetInitialProps","router"],"sources":["/home/kim/Desktop/Security/node_modules/next/dist/next-server/lib/router/router.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst url_1 = require(\"url\");\nconst mitt_1 = __importDefault(require(\"../mitt\"));\nconst utils_1 = require(\"../utils\");\nconst is_dynamic_1 = require(\"./utils/is-dynamic\");\nconst route_matcher_1 = require(\"./utils/route-matcher\");\nconst route_regex_1 = require(\"./utils/route-regex\");\nconst basePath = process.env.__NEXT_ROUTER_BASEPATH || '';\nfunction addBasePath(path) {\n    return path.indexOf(basePath) !== 0 ? basePath + path : path;\n}\nexports.addBasePath = addBasePath;\nfunction delBasePath(path) {\n    return path.indexOf(basePath) === 0\n        ? path.substr(basePath.length) || '/'\n        : path;\n}\nexports.delBasePath = delBasePath;\nfunction toRoute(path) {\n    return path.replace(/\\/$/, '') || '/';\n}\nconst prepareRoute = (path) => toRoute(!path || path === '/' ? '/index' : path);\nfunction fetchNextData(pathname, query, isServerRender, cb) {\n    let attempts = isServerRender ? 3 : 1;\n    function getResponse() {\n        return fetch(utils_1.formatWithValidation({\n            pathname: addBasePath(\n            // @ts-ignore __NEXT_DATA__\n            `/_next/data/${__NEXT_DATA__.buildId}${delBasePath(pathname)}.json`),\n            query,\n        }), {\n            // Cookies are required to be present for Next.js' SSG \"Preview Mode\".\n            // Cookies may also be required for `getServerSideProps`.\n            //\n            // > `fetch` wonâ€™t send cookies, unless you set the credentials init\n            // > option.\n            // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\n            //\n            // > For maximum browser compatibility when it comes to sending &\n            // > receiving cookies, always supply the `credentials: 'same-origin'`\n            // > option instead of relying on the default.\n            // https://github.com/github/fetch#caveats\n            credentials: 'same-origin',\n        }).then(res => {\n            if (!res.ok) {\n                if (--attempts > 0 && res.status >= 500) {\n                    return getResponse();\n                }\n                throw new Error(`Failed to load static props`);\n            }\n            return res.json();\n        });\n    }\n    return getResponse()\n        .then(data => {\n        return cb ? cb(data) : data;\n    })\n        .catch((err) => {\n        // We should only trigger a server-side transition if this was caused\n        // on a client-side transition. Otherwise, we'd get into an infinite\n        // loop.\n        if (!isServerRender) {\n            ;\n            err.code = 'PAGE_LOAD_ERROR';\n        }\n        throw err;\n    });\n}\nclass Router {\n    constructor(pathname, query, as, { initialProps, pageLoader, App, wrapApp, Component, err, subscription, isFallback, }) {\n        // Static Data Cache\n        this.sdc = {};\n        this.onPopState = (e) => {\n            if (!e.state) {\n                // We get state as undefined for two reasons.\n                //  1. With older safari (< 8) and older chrome (< 34)\n                //  2. When the URL changed with #\n                //\n                // In the both cases, we don't need to proceed and change the route.\n                // (as it's already changed)\n                // But we can simply replace the state with the new changes.\n                // Actually, for (1) we don't need to nothing. But it's hard to detect that event.\n                // So, doing the following for (1) does no harm.\n                const { pathname, query } = this;\n                this.changeState('replaceState', utils_1.formatWithValidation({ pathname, query }), utils_1.getURL());\n                return;\n            }\n            // Make sure we don't re-render on initial load,\n            // can be caused by navigating back from an external site\n            if (e.state &&\n                this.isSsr &&\n                e.state.as === this.asPath &&\n                url_1.parse(e.state.url).pathname === this.pathname) {\n                return;\n            }\n            // If the downstream application returns falsy, return.\n            // They will then be responsible for handling the event.\n            if (this._bps && !this._bps(e.state)) {\n                return;\n            }\n            const { url, as, options } = e.state;\n            if (process.env.NODE_ENV !== 'production') {\n                if (typeof url === 'undefined' || typeof as === 'undefined') {\n                    console.warn('`popstate` event triggered but `event.state` did not have `url` or `as` https://err.sh/zeit/next.js/popstate-state-empty');\n                }\n            }\n            this.replace(url, as, options);\n        };\n        this._getStaticData = (asPath) => {\n            const pathname = prepareRoute(url_1.parse(asPath).pathname);\n            return process.env.NODE_ENV === 'production' && this.sdc[pathname]\n                ? Promise.resolve(this.sdc[pathname])\n                : fetchNextData(pathname, null, this.isSsr, data => (this.sdc[pathname] = data));\n        };\n        this._getServerData = (asPath) => {\n            let { pathname, query } = url_1.parse(asPath, true);\n            pathname = prepareRoute(pathname);\n            return fetchNextData(pathname, query, this.isSsr);\n        };\n        // represents the current component key\n        this.route = toRoute(pathname);\n        // set up the component cache (by route keys)\n        this.components = {};\n        // We should not keep the cache, if there's an error\n        // Otherwise, this cause issues when when going back and\n        // come again to the errored page.\n        if (pathname !== '/_error') {\n            this.components[this.route] = {\n                Component,\n                props: initialProps,\n                err,\n                __N_SSG: initialProps && initialProps.__N_SSG,\n                __N_SSP: initialProps && initialProps.__N_SSP,\n            };\n        }\n        this.components['/_app'] = { Component: App };\n        // Backwards compat for Router.router.events\n        // TODO: Should be remove the following major version as it was never documented\n        this.events = Router.events;\n        this.pageLoader = pageLoader;\n        this.pathname = pathname;\n        this.query = query;\n        // if auto prerendered and dynamic route wait to update asPath\n        // until after mount to prevent hydration mismatch\n        this.asPath =\n            // @ts-ignore this is temporarily global (attached to window)\n            is_dynamic_1.isDynamicRoute(pathname) && __NEXT_DATA__.autoExport ? pathname : as;\n        this.basePath = basePath;\n        this.sub = subscription;\n        this.clc = null;\n        this._wrapApp = wrapApp;\n        // make sure to ignore extra popState in safari on navigating\n        // back from external site\n        this.isSsr = true;\n        this.isFallback = isFallback;\n        if (typeof window !== 'undefined') {\n            // make sure \"as\" doesn't start with double slashes or else it can\n            // throw an error as it's considered invalid\n            if (as.substr(0, 2) !== '//') {\n                // in order for `e.state` to work on the `onpopstate` event\n                // we have to register the initial route upon initialization\n                this.changeState('replaceState', utils_1.formatWithValidation({ pathname, query }), as);\n            }\n            window.addEventListener('popstate', this.onPopState);\n        }\n    }\n    // @deprecated backwards compatibility even though it's a private method.\n    static _rewriteUrlForNextExport(url) {\n        if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n            const rewriteUrlForNextExport = require('./rewrite-url-for-export')\n                .rewriteUrlForNextExport;\n            return rewriteUrlForNextExport(url);\n        }\n        else {\n            return url;\n        }\n    }\n    update(route, mod) {\n        const Component = mod.default || mod;\n        const data = this.components[route];\n        if (!data) {\n            throw new Error(`Cannot update unavailable route: ${route}`);\n        }\n        const newData = Object.assign(Object.assign({}, data), { Component, __N_SSG: mod.__N_SSG, __N_SSP: mod.__N_SSP });\n        this.components[route] = newData;\n        // pages/_app.js updated\n        if (route === '/_app') {\n            this.notify(this.components[this.route]);\n            return;\n        }\n        if (route === this.route) {\n            this.notify(newData);\n        }\n    }\n    reload() {\n        window.location.reload();\n    }\n    /**\n     * Go back in history\n     */\n    back() {\n        window.history.back();\n    }\n    /**\n     * Performs a `pushState` with arguments\n     * @param url of the route\n     * @param as masks `url` for the browser\n     * @param options object you can define `shallow` and other options\n     */\n    push(url, as = url, options = {}) {\n        return this.change('pushState', url, as, options);\n    }\n    /**\n     * Performs a `replaceState` with arguments\n     * @param url of the route\n     * @param as masks `url` for the browser\n     * @param options object you can define `shallow` and other options\n     */\n    replace(url, as = url, options = {}) {\n        return this.change('replaceState', url, as, options);\n    }\n    change(method, _url, _as, options) {\n        return new Promise((resolve, reject) => {\n            if (!options._h) {\n                this.isSsr = false;\n            }\n            // marking route changes as a navigation start entry\n            if (utils_1.ST) {\n                performance.mark('routeChange');\n            }\n            // If url and as provided as an object representation,\n            // we'll format them into the string version here.\n            let url = typeof _url === 'object' ? utils_1.formatWithValidation(_url) : _url;\n            let as = typeof _as === 'object' ? utils_1.formatWithValidation(_as) : _as;\n            url = addBasePath(url);\n            as = addBasePath(as);\n            // Add the ending slash to the paths. So, we can serve the\n            // \"<page>/index.html\" directly for the SSR page.\n            if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n                const rewriteUrlForNextExport = require('./rewrite-url-for-export')\n                    .rewriteUrlForNextExport;\n                // @ts-ignore this is temporarily global (attached to window)\n                if (__NEXT_DATA__.nextExport) {\n                    as = rewriteUrlForNextExport(as);\n                }\n            }\n            this.abortComponentLoad(as);\n            // If the url change is only related to a hash change\n            // We should not proceed. We should only change the state.\n            // WARNING: `_h` is an internal option for handing Next.js client-side\n            // hydration. Your app should _never_ use this property. It may change at\n            // any time without notice.\n            if (!options._h && this.onlyAHashChange(as)) {\n                this.asPath = as;\n                Router.events.emit('hashChangeStart', as);\n                this.changeState(method, url, as, options);\n                this.scrollToHash(as);\n                Router.events.emit('hashChangeComplete', as);\n                return resolve(true);\n            }\n            const { pathname, query, protocol } = url_1.parse(url, true);\n            if (!pathname || protocol) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error(`Invalid href passed to router: ${url} https://err.sh/zeit/next.js/invalid-href-passed`);\n                }\n                return resolve(false);\n            }\n            // If asked to change the current URL we should reload the current page\n            // (not location.reload() but reload getInitialProps and other Next.js stuffs)\n            // We also need to set the method = replaceState always\n            // as this should not go into the history (That's how browsers work)\n            // We should compare the new asPath to the current asPath, not the url\n            if (!this.urlIsNew(as)) {\n                method = 'replaceState';\n            }\n            const route = toRoute(pathname);\n            const { shallow = false } = options;\n            if (is_dynamic_1.isDynamicRoute(route)) {\n                const { pathname: asPathname } = url_1.parse(as);\n                const routeRegex = route_regex_1.getRouteRegex(route);\n                const routeMatch = route_matcher_1.getRouteMatcher(routeRegex)(asPathname);\n                if (!routeMatch) {\n                    const missingParams = Object.keys(routeRegex.groups).filter(param => !query[param]);\n                    if (missingParams.length > 0) {\n                        if (process.env.NODE_ENV !== 'production') {\n                            console.warn(`Mismatching \\`as\\` and \\`href\\` failed to manually provide ` +\n                                `the params: ${missingParams.join(', ')} in the \\`href\\`'s \\`query\\``);\n                        }\n                        return reject(new Error(`The provided \\`as\\` value (${asPathname}) is incompatible with the \\`href\\` value (${route}). ` +\n                            `Read more: https://err.sh/zeit/next.js/incompatible-href-as`));\n                    }\n                }\n                else {\n                    // Merge params into `query`, overwriting any specified in search\n                    Object.assign(query, routeMatch);\n                }\n            }\n            Router.events.emit('routeChangeStart', as);\n            // If shallow is true and the route exists in the router cache we reuse the previous result\n            this.getRouteInfo(route, pathname, query, as, shallow).then(routeInfo => {\n                const { error } = routeInfo;\n                if (error && error.cancelled) {\n                    return resolve(false);\n                }\n                Router.events.emit('beforeHistoryChange', as);\n                this.changeState(method, url, as, options);\n                if (process.env.NODE_ENV !== 'production') {\n                    const appComp = this.components['/_app'].Component;\n                    window.next.isPrerendered =\n                        appComp.getInitialProps === appComp.origGetInitialProps &&\n                            !routeInfo.Component.getInitialProps;\n                }\n                this.set(route, pathname, query, as, routeInfo);\n                if (error) {\n                    Router.events.emit('routeChangeError', error, as);\n                    throw error;\n                }\n                Router.events.emit('routeChangeComplete', as);\n                return resolve(true);\n            }, reject);\n        });\n    }\n    changeState(method, url, as, options = {}) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof window.history === 'undefined') {\n                console.error(`Warning: window.history is not available.`);\n                return;\n            }\n            if (typeof window.history[method] === 'undefined') {\n                console.error(`Warning: window.history.${method} is not available`);\n                return;\n            }\n        }\n        if (method !== 'pushState' || utils_1.getURL() !== as) {\n            window.history[method]({\n                url,\n                as,\n                options,\n            }, \n            // Most browsers currently ignores this parameter, although they may use it in the future.\n            // Passing the empty string here should be safe against future changes to the method.\n            // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n            '', as);\n        }\n    }\n    getRouteInfo(route, pathname, query, as, shallow = false) {\n        const cachedRouteInfo = this.components[route];\n        // If there is a shallow route transition possible\n        // If the route is already rendered on the screen.\n        if (shallow && cachedRouteInfo && this.route === route) {\n            return Promise.resolve(cachedRouteInfo);\n        }\n        const handleError = (err, loadErrorFail) => {\n            return new Promise(resolve => {\n                if (err.code === 'PAGE_LOAD_ERROR' || loadErrorFail) {\n                    // If we can't load the page it could be one of following reasons\n                    //  1. Page doesn't exists\n                    //  2. Page does exist in a different zone\n                    //  3. Internal error while loading the page\n                    // So, doing a hard reload is the proper way to deal with this.\n                    window.location.href = as;\n                    // Changing the URL doesn't block executing the current code path.\n                    // So, we need to mark it as a cancelled error and stop the routing logic.\n                    err.cancelled = true;\n                    // @ts-ignore TODO: fix the control flow here\n                    return resolve({ error: err });\n                }\n                if (err.cancelled) {\n                    // @ts-ignore TODO: fix the control flow here\n                    return resolve({ error: err });\n                }\n                resolve(this.fetchComponent('/_error')\n                    .then(res => {\n                    const { page: Component } = res;\n                    const routeInfo = { Component, err };\n                    return new Promise(resolve => {\n                        this.getInitialProps(Component, {\n                            err,\n                            pathname,\n                            query,\n                        }).then(props => {\n                            routeInfo.props = props;\n                            routeInfo.error = err;\n                            resolve(routeInfo);\n                        }, gipErr => {\n                            console.error('Error in error page `getInitialProps`: ', gipErr);\n                            routeInfo.error = err;\n                            routeInfo.props = {};\n                            resolve(routeInfo);\n                        });\n                    });\n                })\n                    .catch(err => handleError(err, true)));\n            });\n        };\n        return new Promise((resolve, reject) => {\n            if (cachedRouteInfo) {\n                return resolve(cachedRouteInfo);\n            }\n            this.fetchComponent(route).then(res => resolve({\n                Component: res.page,\n                __N_SSG: res.mod.__N_SSG,\n                __N_SSP: res.mod.__N_SSP,\n            }), reject);\n        })\n            .then((routeInfo) => {\n            const { Component, __N_SSG, __N_SSP } = routeInfo;\n            if (process.env.NODE_ENV !== 'production') {\n                const { isValidElementType } = require('react-is');\n                if (!isValidElementType(Component)) {\n                    throw new Error(`The default export is not a React Component in page: \"${pathname}\"`);\n                }\n            }\n            return this._getData(() => __N_SSG\n                ? this._getStaticData(as)\n                : __N_SSP\n                    ? this._getServerData(as)\n                    : this.getInitialProps(Component, \n                    // we provide AppTree later so this needs to be `any`\n                    {\n                        pathname,\n                        query,\n                        asPath: as,\n                    })).then(props => {\n                routeInfo.props = props;\n                this.components[route] = routeInfo;\n                return routeInfo;\n            });\n        })\n            .catch(handleError);\n    }\n    set(route, pathname, query, as, data) {\n        this.isFallback = false;\n        this.route = route;\n        this.pathname = pathname;\n        this.query = query;\n        this.asPath = as;\n        this.notify(data);\n    }\n    /**\n     * Callback to execute before replacing router state\n     * @param cb callback to be executed\n     */\n    beforePopState(cb) {\n        this._bps = cb;\n    }\n    onlyAHashChange(as) {\n        if (!this.asPath)\n            return false;\n        const [oldUrlNoHash, oldHash] = this.asPath.split('#');\n        const [newUrlNoHash, newHash] = as.split('#');\n        // Makes sure we scroll to the provided hash if the url/hash are the same\n        if (newHash && oldUrlNoHash === newUrlNoHash && oldHash === newHash) {\n            return true;\n        }\n        // If the urls are change, there's more than a hash change\n        if (oldUrlNoHash !== newUrlNoHash) {\n            return false;\n        }\n        // If the hash has changed, then it's a hash only change.\n        // This check is necessary to handle both the enter and\n        // leave hash === '' cases. The identity case falls through\n        // and is treated as a next reload.\n        return oldHash !== newHash;\n    }\n    scrollToHash(as) {\n        const [, hash] = as.split('#');\n        // Scroll to top if the hash is just `#` with no value\n        if (hash === '') {\n            window.scrollTo(0, 0);\n            return;\n        }\n        // First we check if the element by id is found\n        const idEl = document.getElementById(hash);\n        if (idEl) {\n            idEl.scrollIntoView();\n            return;\n        }\n        // If there's no element with the id, we check the `name` property\n        // To mirror browsers\n        const nameEl = document.getElementsByName(hash)[0];\n        if (nameEl) {\n            nameEl.scrollIntoView();\n        }\n    }\n    urlIsNew(asPath) {\n        return this.asPath !== asPath;\n    }\n    /**\n     * Prefetch page code, you may wait for the data during page rendering.\n     * This feature only works in production!\n     * @param url the href of prefetched page\n     * @param asPath the as path of the prefetched page\n     */\n    prefetch(url, asPath = url, options = {}) {\n        return new Promise((resolve, reject) => {\n            const { pathname, protocol } = url_1.parse(url);\n            if (!pathname || protocol) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error(`Invalid href passed to router: ${url} https://err.sh/zeit/next.js/invalid-href-passed`);\n                }\n                return;\n            }\n            // Prefetch is not supported in development mode because it would trigger on-demand-entries\n            if (process.env.NODE_ENV !== 'production') {\n                return;\n            }\n            const route = delBasePath(toRoute(pathname));\n            Promise.all([\n                this.pageLoader.prefetchData(url, delBasePath(asPath)),\n                this.pageLoader[options.priority ? 'loadPage' : 'prefetch'](route),\n            ]).then(() => resolve(), reject);\n        });\n    }\n    async fetchComponent(route) {\n        let cancelled = false;\n        const cancel = (this.clc = () => {\n            cancelled = true;\n        });\n        route = delBasePath(route);\n        const componentResult = await this.pageLoader.loadPage(route);\n        if (cancelled) {\n            const error = new Error(`Abort fetching component for route: \"${route}\"`);\n            error.cancelled = true;\n            throw error;\n        }\n        if (cancel === this.clc) {\n            this.clc = null;\n        }\n        return componentResult;\n    }\n    _getData(fn) {\n        let cancelled = false;\n        const cancel = () => {\n            cancelled = true;\n        };\n        this.clc = cancel;\n        return fn().then(data => {\n            if (cancel === this.clc) {\n                this.clc = null;\n            }\n            if (cancelled) {\n                const err = new Error('Loading initial props cancelled');\n                err.cancelled = true;\n                throw err;\n            }\n            return data;\n        });\n    }\n    getInitialProps(Component, ctx) {\n        const { Component: App } = this.components['/_app'];\n        const AppTree = this._wrapApp(App);\n        ctx.AppTree = AppTree;\n        return utils_1.loadGetInitialProps(App, {\n            AppTree,\n            Component,\n            router: this,\n            ctx,\n        });\n    }\n    abortComponentLoad(as) {\n        if (this.clc) {\n            const e = new Error('Route Cancelled');\n            e.cancelled = true;\n            Router.events.emit('routeChangeError', e, as);\n            this.clc();\n            this.clc = null;\n        }\n    }\n    notify(data) {\n        this.sub(data, this.components['/_app'].Component);\n    }\n}\nexports.default = Router;\nRouter.events = mitt_1.default();\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}